# –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ —ç—Ç–∞–ø–æ–≤

## üêõ **–ü—Ä–æ–±–ª–µ–º–∞**

–ü—Ä–∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ–º –æ—Ç–∫—Ä—ã—Ç–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞ –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ —ç—Ç–∞–ø–æ–≤:
- ‚ùå –î–∞—Ç–∞ –∏ –≤—Ä–µ–º—è –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è
- ‚ùå –§–ò–û –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –∫–æ—Ç–æ—Ä—ã–π –∑–∞–≤–µ—Ä—à–∏–ª —ç—Ç–∞–ø

## üîç **–î–æ–±–∞–≤–ª–µ–Ω–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞**

### **1. –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ `qualificationWorkScheduleService.ts`:**

- **`getWorkSchedule`** - –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—ã—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö –∏–∑ –ë–î –∏ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- **`mapFromDatabase`** - –¥–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è –ø–æ–ª–µ–π –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è
- **`updateWorkStage`** - –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏

### **2. –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ `QualificationWorkSchedule.tsx`:**

- **`loadSchedule`** - –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö –∏ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–Ω—ã—Ö —ç—Ç–∞–ø–æ–≤
- **–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å** - –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∫–∞–∂–¥–æ–≥–æ —ç—Ç–∞–ø–∞ –ø—Ä–∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–∏

## üìã **–ü–ª–∞–Ω –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏**

### **–®–∞–≥ 1: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –ø—Ä–æ–µ–∫—Ç–∞**

1. **–û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–æ–µ–∫—Ç** —Å –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã–º–∏ —ç—Ç–∞–ø–∞–º–∏
2. **–û—Ç–∫—Ä–æ–π—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞** (F12)
3. **–ù–∞–π–¥–∏—Ç–µ –ª–æ–≥–∏:**

```
QualificationWorkScheduleService: –°—ã—Ä—ã–µ –¥–∞–Ω–Ω—ã–µ –∏–∑ –ë–î: [...]
QualificationWorkScheduleService: –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ: [...]
QualificationWorkSchedule: –ó–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ —ç—Ç–∞–ø—ã –∏–∑ –ë–î: [...]
QualificationWorkSchedule: –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–Ω—ã–µ —ç—Ç–∞–ø—ã: [...]
QualificationWorkSchedule: –≠—Ç–∞–ø—ã —Å –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ–º: [...]
```

### **–®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–∞–Ω–Ω—ã–µ –≤ –ë–î**

–í—ã–ø–æ–ª–Ω–∏—Ç–µ SQL –∑–∞–ø—Ä–æ—Å –≤ Supabase:

```sql
SELECT 
  id,
  stage_name,
  is_completed,
  completed_at,
  completed_by,
  cancelled_at,
  cancelled_by,
  created_at,
  updated_at
FROM qualification_work_schedule 
WHERE qualification_object_id = '054d45b5-eb50-47fd-8b8f-a075f832e256'
ORDER BY created_at;
```

### **–®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –ø—Ä–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ —ç—Ç–∞–ø–∞**

1. **–ù–∞–∂–º–∏—Ç–µ "–ó–∞–≤–µ—Ä—à–µ–Ω–æ"** –Ω–∞ –ª—é–±–æ–º —ç—Ç–∞–ø–µ
2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏:**

```
QualificationWorkScheduleService: updateWorkStage - –¥–∞–Ω–Ω—ã–µ –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è: {...}
QualificationWorkScheduleService: updateWorkStage - –¥–∞–Ω–Ω—ã–µ –¥–ª—è UPDATE: {...}
QualificationWorkScheduleService: updateWorkStage - —Ä–µ–∑—É–ª—å—Ç–∞—Ç UPDATE: {...}
```

### **–®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ**

–ù–∞–π–¥–∏—Ç–µ –ª–æ–≥–∏:

```
QualificationWorkSchedule: –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —ç—Ç–∞–ø–∞: [–Ω–∞–∑–≤–∞–Ω–∏–µ —ç—Ç–∞–ø–∞] {
  isCompleted: true/false,
  completedAt: "–¥–∞—Ç–∞" –∏–ª–∏ undefined,
  completedBy: "–§–ò–û" –∏–ª–∏ undefined,
  shouldShowInfo: true/false
}
```

## üîß **–í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã –ø—Ä–æ–±–ª–µ–º—ã**

### **1. –î–∞–Ω–Ω—ã–µ –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ –ë–î:**
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ `updateWorkStage`
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å SQL –∑–∞–ø—Ä–æ—Å –≤ –ë–î

### **2. –î–∞–Ω–Ω—ã–µ –Ω–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –∏–∑ –ë–î:**
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ `getWorkSchedule`
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å SQL –∑–∞–ø—Ä–æ—Å –≤ –ë–î

### **3. –î–∞–Ω–Ω—ã–µ –Ω–µ –ø—Ä–µ–æ–±—Ä–∞–∑—É—é—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ:**
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ `mapFromDatabase`
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –ø–æ–ª–µ–π –ë–î –∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞

### **4. –î–∞–Ω–Ω—ã–µ –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ:**
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —ç—Ç–∞–ø–æ–≤
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —É—Å–ª–æ–≤–∏–µ `(stage.isCompleted || stage.cancelledAt)`

## üìä **–û–∂–∏–¥–∞–µ–º—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã**

### **–ü—Ä–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å:**

1. **–í –ë–î:**
   ```sql
   is_completed: true
   completed_at: "2025-01-02T10:30:00Z"
   completed_by: "–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤"
   ```

2. **–í –ª–æ–≥–∞—Ö —Å–µ—Ä–≤–∏—Å–∞:**
   ```javascript
   raw: {
     is_completed: true,
     completed_at: "2025-01-02T10:30:00Z",
     completed_by: "–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤"
   }
   mapped: {
     isCompleted: true,
     completedAt: "2025-01-02T10:30:00Z",
     completedBy: "–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤"
   }
   ```

3. **–í –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ:**
   ```javascript
   shouldShowInfo: true
   ```

## üéØ **–°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏**

1. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫—É** —Å –Ω–æ–≤—ã–º –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º
2. **–°–æ–±–µ—Ä–∏—Ç–µ –ª–æ–≥–∏** –∏–∑ –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞
3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–∞–Ω–Ω—ã–µ** –≤ –ë–î —á–µ—Ä–µ–∑ SQL
4. **–û–ø—Ä–µ–¥–µ–ª–∏—Ç–µ —ç—Ç–∞–ø** –≥–¥–µ —Ç–µ—Ä—è—é—Ç—Å—è –¥–∞–Ω–Ω—ã–µ
5. **–ò—Å–ø—Ä–∞–≤—å—Ç–µ –ø—Ä–æ–±–ª–µ–º—É** –Ω–∞ –æ—Å–Ω–æ–≤–µ –Ω–∞–π–¥–µ–Ω–Ω–æ–π –ø—Ä–∏—á–∏–Ω—ã

## üìù **–§–æ—Ä–º–∞—Ç –æ—Ç—á–µ—Ç–∞**

–ü—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ —É–∫–∞–∂–∏—Ç–µ:

1. **–õ–æ–≥–∏ –∏–∑ –∫–æ–Ω—Å–æ–ª–∏** (—Å–∫–æ–ø–∏—Ä—É–π—Ç–µ –≤—Å–µ –ª–æ–≥–∏ —Å –ø—Ä–µ—Ñ–∏–∫—Å–∞–º–∏)
2. **–†–µ–∑—É–ª—å—Ç–∞—Ç SQL –∑–∞–ø—Ä–æ—Å–∞** –∫ —Ç–∞–±–ª–∏—Ü–µ `qualification_work_schedule`
3. **–°–∫—Ä–∏–Ω—à–æ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞** —Å –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–µ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π
4. **–û–ø–∏—Å–∞–Ω–∏–µ –¥–µ–π—Å—Ç–≤–∏–π** - –∫–∞–∫–∏–µ —ç—Ç–∞–ø—ã –∑–∞–≤–µ—Ä—à–∞–ª–∏—Å—å –∏ –∫–æ–≥–¥–∞

---

**–î–æ–±–∞–≤–ª–µ–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–º–æ–∂–µ—Ç —Ç–æ—á–Ω–æ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å, –Ω–∞ –∫–∞–∫–æ–º —ç—Ç–∞–ø–µ —Ç–µ—Ä—è–µ—Ç—Å—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ —ç—Ç–∞–ø–æ–≤.**



















