# –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–∫–∏ UUID –¥–ª—è —ç—Ç–∞–ø–æ–≤ –∫–≤–∞–ª–∏—Ñ–∏–∫–∞—Ü–∏–∏

## üö® **–ü—Ä–æ–±–ª–µ–º–∞**

–ü—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ –∑–∞–≤–µ—Ä—à–∏—Ç—å —ç—Ç–∞–ø –≤ –ø–ª–∞–Ω–µ –≥—Ä–∞—Ñ–∏–∫–µ –ø—Ä–æ–≤–µ–¥–µ–Ω–∏—è –∫–≤–∞–ª–∏—Ñ–∏–∫–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ä–∞–±–æ—Ç –≤–æ–∑–Ω–∏–∫–∞–ª–∞ –æ—à–∏–±–∫–∞:

```
–û—à–∏–±–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö
invalid input syntax for type uuid: "stage-1"
```

### **–ü—Ä–∏—á–∏–Ω–∞ –æ—à–∏–±–∫–∏:**

1. **–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç ID —ç—Ç–∞–ø–æ–≤** - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏—Å—å ID –≤–∏–¥–∞ `stage-1`, `stage-2` –∏ —Ç.–¥.
2. **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –æ–∂–∏–¥–∞–µ—Ç UUID** - –ø–æ–ª–µ `id` –≤ —Ç–∞–±–ª–∏—Ü–µ `qualification_work_schedule` –∏–º–µ–µ—Ç —Ç–∏–ø UUID
3. **–ö–æ–Ω—Ñ–ª–∏–∫—Ç –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏** - –ø–æ–ø—ã—Ç–∫–∞ –æ–±–Ω–æ–≤–∏—Ç—å —ç—Ç–∞–ø —Å –Ω–µ-UUID ID –≤—ã–∑—ã–≤–∞–ª–∞ –æ—à–∏–±–∫—É

## ‚úÖ **–†–µ—à–µ–Ω–∏–µ**

### **1. –ò–∑–º–µ–Ω–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ —ç—Ç–∞–ø–æ–≤**

**–ë—ã–ª–æ:**
```typescript
const initializeStages = () => {
  const initializedStages = QUALIFICATION_STAGES.map((stage, index) => ({
    id: `stage-${index + 1}`, // ‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç
    ...stage,
    startDate: '',
    endDate: '',
    isCompleted: false
  }));
  setStages(initializedStages);
};
```

**–°—Ç–∞–ª–æ:**
```typescript
const initializeStages = () => {
  const initializedStages = QUALIFICATION_STAGES.map((stage, index) => ({
    id: `temp-stage-${index + 1}`, // ‚úÖ –í—Ä–µ–º–µ–Ω–Ω—ã–π ID –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏
    ...stage,
    startDate: '',
    endDate: '',
    isCompleted: false
  }));
  setStages(initializedStages);
};
```

### **2. –û–±–Ω–æ–≤–ª–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –≤ `handleStageCompletion`**

**–î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–∞ ID:**
```typescript
// –ü—Ä–æ–≤–µ—Ä—è–µ–º, —è–≤–ª—è–µ—Ç—Å—è –ª–∏ ID –≤—Ä–µ–º–µ–Ω–Ω—ã–º (–Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å temp-stage-)
if (stageId.startsWith('temp-stage-')) {
  console.log('–°–æ–∑–¥–∞–µ–º –Ω–æ–≤—ã–π —ç—Ç–∞–ø –≤ –ë–î —Å –≤—Ä–µ–º–µ–Ω–Ω—ã–º ID:', stageId);
  // –°–æ–∑–¥–∞–µ–º –Ω–æ–≤—ã–π —ç—Ç–∞–ø –≤ –ë–î
  const createdStage = await qualificationWorkScheduleService.createWorkStage(
    qualificationObjectId,
    stageToSave
  );
  
  // –û–±–Ω–æ–≤–ª—è–µ–º –ª–æ–∫–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å —Ä–µ–∞–ª—å–Ω—ã–º ID –∏–∑ –ë–î
  setStages(prevStages => 
    prevStages.map(stage => 
      stage.id === stageId 
        ? { ...stage, id: createdStage.id }
        : stage
    )
  );
} else {
  console.log('–û–±–Ω–æ–≤–ª—è–µ–º —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π —ç—Ç–∞–ø –≤ –ë–î —Å ID:', stageId);
  // –û–±–Ω–æ–≤–ª—è–µ–º —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π —ç—Ç–∞–ø
  await qualificationWorkScheduleService.updateWorkStage(
    qualificationObjectId,
    stageId,
    stageToSave
  );
}
```

### **3. –û–±–Ω–æ–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `handleSave`**

**–†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –Ω–∞ –Ω–æ–≤—ã–µ –∏ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —ç—Ç–∞–ø—ã:**
```typescript
// –†–∞–∑–¥–µ–ª—è–µ–º —ç—Ç–∞–ø—ã –Ω–∞ –Ω–æ–≤—ã–µ (—Å –≤—Ä–µ–º–µ–Ω–Ω—ã–º–∏ ID) –∏ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ
const newStages = stages.filter(stage => stage.id.startsWith('temp-stage-'));
const existingStages = stages.filter(stage => !stage.id.startsWith('temp-stage-'));

// –°–æ–∑–¥–∞–µ–º –Ω–æ–≤—ã–µ —ç—Ç–∞–ø—ã –≤ –ë–î
for (const stage of newStages) {
  const createdStage = await qualificationWorkScheduleService.createWorkStage(
    qualificationObjectId,
    stageToSave
  );
  createdStages.push(createdStage);
}

// –û–±–Ω–æ–≤–ª—è–µ–º —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —ç—Ç–∞–ø—ã
for (const stage of existingStages) {
  await qualificationWorkScheduleService.updateWorkStage(
    qualificationObjectId,
    stage.id,
    stageToSave
  );
}
```

### **4. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `resetStagesToCorrectOrder`**

**–°–æ–∑–¥–∞–Ω–∏–µ —ç—Ç–∞–ø–æ–≤ —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ UUID –∏–∑ –ë–î:**
```typescript
// –°–æ–∑–¥–∞–µ–º —ç—Ç–∞–ø—ã –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ
const createdStages = [];

// –°–æ—Ö—Ä–∞–Ω—è–µ–º —ç—Ç–∞–ø—ã –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ –∏ –ø–æ–ª—É—á–∞–µ–º —Ä–µ–∞–ª—å–Ω—ã–µ ID –∏–∑ –ë–î
for (const stage of QUALIFICATION_STAGES) {
  const createdStage = await qualificationWorkScheduleService.createWorkStage(qualificationObjectId, {
    stageName: stage.name,
    stageDescription: stage.description,
    startDate: '',
    endDate: '',
    isCompleted: false
  });
  createdStages.push({
    id: createdStage.id, // ‚úÖ –†–µ–∞–ª—å–Ω—ã–π UUID –∏–∑ –ë–î
    name: stage.name,
    description: stage.description,
    startDate: '',
    endDate: '',
    isCompleted: false
  });
}
```

## üîß **–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –ª–æ–≥–∏–∫–∞**

### **–ñ–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª —ç—Ç–∞–ø–∞:**

1. **–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è** - —ç—Ç–∞–ø—ã —Å–æ–∑–¥–∞—é—Ç—Å—è —Å –≤—Ä–µ–º–µ–Ω–Ω—ã–º–∏ ID `temp-stage-1`, `temp-stage-2` –∏ —Ç.–¥.
2. **–ü–µ—Ä–≤–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ** - –ø—Ä–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ —ç—Ç–∞–ø–∞ —Å –≤—Ä–µ–º–µ–Ω–Ω—ã–º ID:
   - –°–æ–∑–¥–∞–µ—Ç—Å—è –Ω–æ–≤—ã–π —ç—Ç–∞–ø –≤ –ë–î —á–µ—Ä–µ–∑ `createWorkStage`
   - –ë–î –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Ä–µ–∞–ª—å–Ω—ã–π UUID
   - –õ–æ–∫–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è —Å —Ä–µ–∞–ª—å–Ω—ã–º UUID
3. **–ü–æ—Å–ª–µ–¥—É—é—â–∏–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è** - –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Ä–µ–∞–ª—å–Ω—ã–µ UUID –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

### **–¢–∏–ø—ã ID —ç—Ç–∞–ø–æ–≤:**

- **`temp-stage-*`** - –≤—Ä–µ–º–µ–Ω–Ω—ã–µ ID –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏
- **UUID** - —Ä–µ–∞–ª—å–Ω—ã–µ ID –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (–Ω–∞–ø—Ä–∏–º–µ—Ä: `8a648e8b-fa53-47fe-b2b1-69c9ec801ff7`)

## üéØ **–†–µ–∑—É–ª—å—Ç–∞—Ç**

### **–î–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
- ‚ùå –û—à–∏–±–∫–∞ `invalid input syntax for type uuid: "stage-1"`
- ‚ùå –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ –∑–∞–≤–µ—Ä—à–∏—Ç—å —ç—Ç–∞–ø—ã
- ‚ùå –î–∞–Ω–Ω—ã–µ –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ –ë–î

### **–ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
- ‚úÖ –≠—Ç–∞–ø—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Å–æ–∑–¥–∞—é—Ç—Å—è –≤ –ë–î —Å UUID
- ‚úÖ –ö–Ω–æ–ø–∫–∞ "–ó–∞–≤–µ—Ä—à–µ–Ω–æ" —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ –î–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ –ë–î
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ –ê—É–¥–∏—Ç —Å–æ–±—ã—Ç–∏–π –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è

## üìã **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**

### **–°—Ü–µ–Ω–∞—Ä–∏–π 1: –ù–æ–≤—ã–π –æ–±—ä–µ–∫—Ç –∫–≤–∞–ª–∏—Ñ–∏–∫–∞—Ü–∏–∏**
1. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –æ–±—ä–µ–∫—Ç –∫–≤–∞–ª–∏—Ñ–∏–∫–∞—Ü–∏–∏
2. –û—Ç–∫—Ä–æ–π—Ç–µ –ø–ª–∞–Ω –≥—Ä–∞—Ñ–∏–∫
3. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ –¥–∞—Ç—ã –¥–ª—è —ç—Ç–∞–ø–∞
4. –ù–∞–∂–º–∏—Ç–µ "–ó–∞–≤–µ—Ä—à–µ–Ω–æ"
5. ‚úÖ –≠—Ç–∞–ø –¥–æ–ª–∂–µ–Ω –∑–∞–≤–µ—Ä—à–∏—Ç—å—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫

### **–°—Ü–µ–Ω–∞—Ä–∏–π 2: –°—É—â–µ—Å—Ç–≤—É—é—â–∏–π –æ–±—ä–µ–∫—Ç**
1. –û—Ç–∫—Ä–æ–π—Ç–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –æ–±—ä–µ–∫—Ç –∫–≤–∞–ª–∏—Ñ–∏–∫–∞—Ü–∏–∏
2. –ó–∞–≤–µ—Ä—à–∏—Ç–µ —ç—Ç–∞–ø
3. ‚úÖ –≠—Ç–∞–ø –¥–æ–ª–∂–µ–Ω –æ–±–Ω–æ–≤–∏—Ç—å—Å—è –≤ –ë–î

### **–°—Ü–µ–Ω–∞—Ä–∏–π 3: –°–±—Ä–æ—Å –ø–æ—Ä—è–¥–∫–∞ —ç—Ç–∞–ø–æ–≤**
1. –ù–∞–∂–º–∏—Ç–µ "–°–±—Ä–æ—Å–∏—Ç—å –ø–æ—Ä—è–¥–æ–∫"
2. ‚úÖ –≠—Ç–∞–ø—ã –¥–æ–ª–∂–Ω—ã –ø–µ—Ä–µ—Å–æ–∑–¥–∞—Ç—å—Å—è —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ UUID

## üîç **–õ–æ–≥–∏ –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏**

### **–£—Å–ø–µ—à–Ω–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ —ç—Ç–∞–ø–∞:**
```
–°–æ–∑–¥–∞–µ–º –Ω–æ–≤—ã–π —ç—Ç–∞–ø –≤ –ë–î —Å –≤—Ä–µ–º–µ–Ω–Ω—ã–º ID: temp-stage-1
QualificationWorkScheduleService: createWorkStage - —Å–æ–∑–¥–∞–Ω —ç—Ç–∞–ø: {id: "8a648e8b-fa53-47fe-b2b1-69c9ec801ff7", ...}
–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–æ —É—Å–ø–µ—à–Ω–æ
```

### **–£—Å–ø–µ—à–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —ç—Ç–∞–ø–∞:**
```
–û–±–Ω–æ–≤–ª—è–µ–º —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π —ç—Ç–∞–ø –≤ –ë–î —Å ID: 8a648e8b-fa53-47fe-b2b1-69c9ec801ff7
QualificationWorkScheduleService: updateWorkStage - —Ä–µ–∑—É–ª—å—Ç–∞—Ç UPDATE: {...}
–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–æ —É—Å–ø–µ—à–Ω–æ
```

## üìÅ **–ò–∑–º–µ–Ω–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã**

- `src/components/QualificationWorkSchedule.tsx` - –æ—Å–Ω–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

## üéâ **–ó–∞–∫–ª—é—á–µ–Ω–∏–µ**

–ü—Ä–æ–±–ª–µ–º–∞ —Å UUID —ç—Ç–∞–ø–æ–≤ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ—à–µ–Ω–∞! –¢–µ–ø–µ—Ä—å:

- ‚úÖ **–≠—Ç–∞–ø—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Å–æ–∑–¥–∞—é—Ç—Å—è** –≤ –ë–î —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ UUID
- ‚úÖ **–ö–Ω–æ–ø–∫–∞ "–ó–∞–≤–µ—Ä—à–µ–Ω–æ" —Ä–∞–±–æ—Ç–∞–µ—Ç** –±–µ–∑ –æ—à–∏–±–æ–∫
- ‚úÖ **–í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞—Ç —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∏—Ä—É–µ—Ç** –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ **–î–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è** –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ **–ê—É–¥–∏—Ç —Å–æ–±—ã—Ç–∏–π –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è** —É—Å–ø–µ—à–Ω–æ

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –ø–æ–ª–Ω–æ—Å—Ç—å—é –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞!** üöÄ



















