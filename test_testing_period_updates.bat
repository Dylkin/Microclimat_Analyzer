@echo off
echo ========================================
echo Тест обновлений для испытаний и расстановки оборудования
echo ========================================
echo.
echo Проверяемые функции:
echo 1. Поля для указания периода проведения испытаний
echo 2. Блок "Расстановка оборудования" в режиме только для просмотра
echo 3. Сохранение данных в базе данных
echo.
echo Инструкции для тестирования:
echo.
echo 1. Убедитесь, что выполнены SQL команды из add_testing_period_fields.sql
echo 2. Запустите приложение: start_with_testing_period_updates.bat
echo 3. Авторизуйтесь в приложении
echo 4. Перейдите на страницу "Согласование договора"
echo 5. Выберите объект квалификации для редактирования
echo.
echo Тест 1 - Поля периода проведения испытаний:
echo - В блоке "Испытания" должны быть поля:
echo   * Планируемая дата начала
echo   * Планируемая дата окончания
echo   * Период проведения испытаний (с даты) - НОВОЕ
echo   * Период проведения испытаний (по дату) - НОВОЕ
echo   * Фактическая дата начала
echo   * Фактическая дата окончания
echo - Заполните новые поля периода проведения испытаний
echo - Сохраните изменения
echo - Обновите страницу - данные должны сохраниться
echo.
echo Тест 2 - Блок "Расстановка оборудования":
echo - Заголовок должен содержать "Только для просмотра"
echo - Кнопка "Добавить зону измерения" должна отсутствовать
echo - Если есть зоны измерения:
echo   * Кнопки "Добавить уровень" и "Удалить зону" должны отсутствовать
echo   * Поля высоты должны быть не редактируемыми (readOnly)
echo   * Селектор оборудования должен быть не редактируемым
echo   * Кнопки удаления оборудования должны отсутствовать
echo - Информационный блок должен содержать "Режим только для просмотра"
echo.
echo Тест 3 - Проверка в базе данных:
echo - Откройте Supabase Dashboard
echo - Перейдите в Table Editor
echo - Проверьте таблицу testing_periods
echo - Должны быть поля testing_start_date и testing_end_date
echo - Проверьте, что данные сохраняются в новых полях
echo.
echo SQL запросы для проверки:
echo.
echo -- Просмотр структуры таблицы
echo SELECT column_name, data_type, is_nullable 
echo FROM information_schema.columns 
echo WHERE table_name = 'testing_periods' 
echo AND table_schema = 'public'
echo ORDER BY ordinal_position;
echo.
echo -- Просмотр данных с новыми полями
echo SELECT 
echo   id,
echo   planned_start_date,
echo   planned_end_date,
echo   testing_start_date,
echo   testing_end_date,
echo   actual_start_date,
echo   actual_end_date,
echo   status
echo FROM testing_periods 
echo ORDER BY created_at DESC;
echo.
echo Ожидаемые результаты:
echo - Новые поля для периода проведения испытаний работают
echo - Блок "Расстановка оборудования" не редактируемый
echo - Данные сохраняются в базе данных
echo - UI соответствует требованиям
echo.
echo Если тесты проходят успешно:
echo ✅ Поля для периода проведения испытаний добавлены
echo ✅ Блок "Расстановка оборудования" сделан не редактируемым
echo ✅ Все изменения работают корректно
echo.
pause























